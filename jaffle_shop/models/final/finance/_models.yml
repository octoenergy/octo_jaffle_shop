version: 2

exposures:
  - name: customer_lifetime_returns_value_dashboard
    label: Customer lifetime returns value dashboard
    description: A dashboard for the lifetime value (total amount) of returns from each customer.
    type: dashboard
    url: https://prod-apnortheast-a.online.tableau.com/#/site/octopusenergyjapan/home/customerlifetimereturns
    owner:
      email: "alex.malins@octoenergy.com"
    depends_on:
      - ref('fnl_finance_customerlifetimereturns')

models:
  - name: fnl_finance_customerlifetimereturns
    meta:
      owner: "alex.malins@octoenergy.com"
      team_owner: '!subteam^S02GPV1135F' #@dbt_gatekeepers
    description: |
      Table with the total sales for each customer.
    columns:
      - name: customer_id
        description: Unique customer id.
        tests:
          - unique
          - not_null
      - name: customer_lifetime_returns
        description: Total value of all orders returned by customer.
